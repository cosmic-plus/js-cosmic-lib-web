<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Query specifications - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Tutorials</li><li class="nav-item"><a href="tutorial-10-specs-query.html">Query specifications</a></li><li class="nav-item"><a href="tutorial-20-cheatsheet-query.html">Query cheatsheet</a></li><li class="nav-item"><a href="tutorial-30-emitting.html">Emitting CosmicLinks without this library</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="CosmicLink.html">CosmicLink</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CosmicLink.html#addOperation">addOperation</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CosmicLink.html#insertOperation">insertOperation</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CosmicLink.html#lock">lock</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CosmicLink.html#open">open</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CosmicLink.html#parse">parse</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CosmicLink.html#selectNetwork">selectNetwork</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CosmicLink.html#send">send</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CosmicLink.html#setOperation">setOperation</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CosmicLink.html#setTxFields">setTxFields</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CosmicLink.html#sign">sign</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CosmicLink.html#signSep7">signSep7</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CosmicLink.html#verifySep7">verifySep7</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="SignersUtils.html">SignersUtils</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SignersUtils.html#hasSigned">hasSigned</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="SignersUtils.html#hasSigner">hasSigner</a></span></li><li class="nav-heading">Modules</li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-config.html">config</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-config.html#.addAliases">addAliases</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-config.html#.clearClickHandler">clearClickHandler</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-config.html#.removeAliases">removeAliases</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-config.html#.setClickHandler">setClickHandler</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-config.html#.setupNetwork">setupNetwork</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-load.html">load</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-load.html#.css">css</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-load.html#.js">js</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-load.html#styles">styles</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-resolve.html">resolve</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-resolve.html#.account">account</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-resolve.html#.address">address</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-resolve.html#.horizon">horizon</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-resolve.html#.isAccountEmpty">isAccountEmpty</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-resolve.html#.networkName">networkName</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-resolve.html#.networkPassphrase">networkPassphrase</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-resolve.html#.server">server</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-resolve.html#.txSigners">txSigners</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-resolve.html#.txSignersList">txSignersList</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-resolve.html#.txSourceAccount">txSourceAccount</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-resolve.html#.txSources">txSources</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-resolve.html#.useNetwork">useNetwork</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-resolve.html#~makeAccountResponse">makeAccountResponse</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-sep7Utils.html">sep7Utils</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-sep7Utils.html#.isWebHandlerSupported">isWebHandlerSupported</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-sep7Utils.html#.registerWebHandler">registerWebHandler</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-signersUtils.html">signersUtils</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-signersUtils.html#.extends">extends</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-signersUtils.html#.for">for</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-specs.html">specs</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-specs.html#.isOperationField">isOperationField</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="module-specs.html#.isTransactionField">isTransactionField</a></span></li><li class="nav-heading"><a href="global.html">Globals</a></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#exportModule">exportModule</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#withConfig">withConfig</a></span></li>
</nav>

<div id="main">
    
    <h1 class="page-title">Query specifications</h1>
    

    <section>

<header>
    
</header>

<article>
    <h1>Cosmic links specifications</h1>
<p>Cosmic links syntax mimic <code>js-stellar-sdk</code>
<a href="https://stellar.github.io/js-stellar-sdk/Transaction.html">Transactions</a>
and <a href="https://stellar.github.io/js-stellar-sdk/Operation.html">Operations</a>
methods.</p>
<h2>General syntax</h2>
<h3>One-operation link</h3>
<blockquote>
<p>...?type={operation}&amp;{field}={value}&amp;{...more_fields}</p>
</blockquote>
<p>Where <code>{field}</code> can be either a meta field, a transaction field or a valid field
for <code>{operation}</code>.</p>
<p>Example:</p>
<blockquote>
<p><a href="https:%5C/%5C/cosmic.link/?payment&amp;memo=Donation&amp;destination=tips*cosmic.link&amp;amount=100">https://cosmic.link/?payment&amp;memo=Donation&amp;destination=tips*cosmic.link&amp;amount=100</a></p>
</blockquote>
<h3>Multi-operation link</h3>
<blockquote>
<p>...?type=transaction&amp;{...metaFields|transactionFields}&amp;operation={operation}&amp;{...operationFields}&amp;{...more_operations}</p>
</blockquote>
<p>Meta fields and transactions fields have to be provided prior to any operation,
then the operations should be described sequentially.</p>
<p>Example:</p>
<blockquote>
<p><a href="https:%5C/%5C/cosmic.link/?transaction&amp;memo=Example&amp;operation=setOptions&amp;homeDomain=example.org&amp;operation=manageData&amp;name=Wallet&amp;value=example-wallet">https://cosmic.link/?transaction&amp;memo=Example&amp;operation=setOptions&amp;homeDomain=example.org&amp;operation=manageData&amp;name=Wallet&amp;value=example-wallet</a></p>
</blockquote>
<h3>XDR link</h3>
<blockquote>
<p>...?xdr={xdr}&amp;{...metaFields}[&amp;strip=source|sequence|signatures]</p>
</blockquote>
<ul>
<li><code>&amp;strip</code>: Remove an element from the original XDR transaction. Stripping out
sequence means that the transaction request can get signed anytime in the
future, possibly several times. Stripping out source means that it can get
signed by any account.</li>
</ul>
<p>Example:</p>
<blockquote>
<p><a href="https://cosmic.link/?xdr=AAAAAL2ef/Z7FpGtgUvkKaEg3uvy9IH+T9chWSUhQILKTk/NAAAAZAEMX34AAAADAAAAAAAAAAAAAAABAAAAAAAAAAUAAAABAAAAAIQ/AS7GRUBBd96ykumKKUFE92+oiwRuJ7KXuvPwwTQWAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==&amp;network=public&amp;strip=source">https://cosmic.link/?xdr=AAAA...AA==&amp;network=public&amp;strip=source</a></p>
</blockquote>
<h2>Fields</h2>
<h3>Meta Fields</h3>
<p>Those fields contains data that is not strictly-speaking part of the
transaction object, but that is essential to its validation. Those fields are
optional.</p>
<h4>network</h4>
<blockquote>
<p>&amp;network=public|test|{passphrase}</p>
</blockquote>
<p>Tie the transaction to a specific network. Network-less transaction requests are
interpreted as transactions that can be validated on any network.</p>
<h4>horizon</h4>
<blockquote>
<p>&amp;horizon={url}</p>
</blockquote>
<p>Provide a fallback Horizon node for custom network in case the client doesn't
know any.</p>
<h4>callback</h4>
<blockquote>
<p>&amp;callback={url}</p>
</blockquote>
<p>Provide the destination at which the signed transaction must be posted.</p>
<h3>Transaction fields</h3>
<p>Those fields may be used in any transaction and are all of them are optionals.
For multi-operations links, <code>source</code> will become the default source for any
operation that doesn't define one. In cosmic links, having a <code>source</code> is
optional as the source can be set by the wallet service when signing.</p>
<h4>memo</h4>
<p>The general syntax for memos is:</p>
<blockquote>
<p>&amp;memo={memoType}:{memoValue}</p>
</blockquote>
<p>Where <code>{memoType}</code> is one of: <code>text</code>, <code>id</code>, <code>hash</code>, <code>return</code>. A short syntax
for text memo exist aswell:</p>
<blockquote>
<p>&amp;memo={memoValue}</p>
</blockquote>
<h4>source</h4>
<blockquote>
<p>&amp;source={address}</p>
</blockquote>
<p>Where <code>{address}</code> is either a federated address or an account ID, as any address
in <code>js-cosmic-lib</code>.</p>
<h4>minTime / maxTime</h4>
<blockquote>
<p>&amp;minTime|maxTime={YYYY-MM-DD}
&amp;minTime|maxTime={YYYY-MM-DDTHH:mm:ssZ}</p>
</blockquote>
<p>This is the ISO 8601 date format.</p>
<blockquote>
<p>&amp;minTime|maxTime=+{minutes}</p>
</blockquote>
<p>This is a syntactic sugar to define minTime/maxTime relatively to the current
time, in minutes. This gets immediately computed into the corresponding UTC
date.</p>
<h4>sequence</h4>
<blockquote>
<p>&amp;sequence={integer}</p>
</blockquote>
<p>The sequence number for this transaction.</p>
<h4>fee</h4>
<blockquote>
<p>&amp;fee={integer}</p>
</blockquote>
<p>Fees for this transaction. Should at least egual the minimum network fee.</p>
<h3>Operation fields</h3>
<h4>accountMerge</h4>
<p>Destroy <code>source</code> account and send its lumens to <code>destination</code>.</p>
<p>Mandatory fields:</p>
<blockquote>
<p>...?accountMerge&amp;destination={address}</p>
</blockquote>
<p>Optional fields:</p>
<ul>
<li>&amp;source={address}</li>
</ul>
<h4>allowTrust</h4>
<p>Allow <code>trustor</code> to hold your asset <code>assetCode</code>.</p>
<p>Mandatory fields:</p>
<blockquote>
<p>...?allowTrust&amp;assetCode={string}&amp;trustor={address}</p>
</blockquote>
<p>Optional fields:</p>
<ul>
<li>&amp;authorize=false Revoke <code>trustor</code> permission to hold <code>assetCode</code></li>
<li>&amp;source={address}</li>
</ul>
<h4>bumpSequence</h4>
<p>Set account sequence number to <code>bumpTo</code>.</p>
<p>Mandatory fields:</p>
<blockquote>
<p>...?bumpSequence&amp;bumpTo={sequenceNumber}</p>
</blockquote>
<p>Optional fields:</p>
<ul>
<li>&amp;source={address}</li>
</ul>
<h4>changeTrust</h4>
<p>Accept <code>asset</code>.</p>
<blockquote>
<p>...?changeTrust&amp;asset={assetCode}:{assetIssuer}</p>
</blockquote>
<p>Optional fields:</p>
<ul>
<li>&amp;limit={integer} Maximum holding, if set to zero <code>source</code> will not accept
<code>asset</code> anymore.</li>
<li>&amp;source={address}</li>
</ul>
<h4>createAccount</h4>
<p>Create account <code>destination</code> and send it <code>initialBalance</code> lumens.</p>
<blockquote>
<p>...?createAccount&amp;destination={address}&amp;initialBalance={amount}</p>
</blockquote>
<p>Optional fields:</p>
<ul>
<li>&amp;source={address}</li>
</ul>
<h4>createPassiveSellOffer</h4>
<p>Offer to passively sell <code>amount</code> <code>selling</code> for <code>price</code> <code>buying</code> / unit.</p>
<blockquote>
<p>...?createPassiveSellOffer&amp;selling={assetCode}:{assetIssuer}&amp;buying={assetCode}:{assetIssuer}&amp;amount={amount}&amp;price={price}</p>
</blockquote>
<p>Notes:</p>
<ul>
<li>Before protocol 11 update, this operation was named <code>createPassiveOffer</code>. The
old name is still supported for backward compatibility.</li>
<li><code>selling</code> or <code>buying</code> field may be omitted when it is lumens.</li>
<li><code>price</code> can also be a fraction in the form <code>{1:2}</code> or <code>{sellAmount}:{buyAmount}</code>.</li>
</ul>
<p>Optional fields:</p>
<ul>
<li>&amp;source={address}</li>
</ul>
<h4>inflation</h4>
<p>Run inflation</p>
<blockquote>
<p>...?inflation</p>
</blockquote>
<p>Optional fields:</p>
<ul>
<li>&amp;source={address}</li>
</ul>
<h4>manageData</h4>
<p>Clear data entry <code>name</code> / Set <code>name</code> value as <code>value</code>.</p>
<blockquote>
<p>...?manageData&amp;name={string}</p>
</blockquote>
<p>Optional fields</p>
<ul>
<li>&amp;value={string} If omitted, clear <code>name</code>, else set <code>name</code> to <code>value</code>.</li>
<li>&amp;source={address}</li>
</ul>
<h4>manageBuyOffer</h4>
<p>Offer to buy <code>buyAmount</code> <code>buying</code> for <code>price</code> <code>selling</code> / unit.</p>
<blockquote>
<p>...?manageOffer&amp;selling={assetCode}:{assetIssuer}&amp;buying={assetCode}:{assetIssuer}&amp;buyAmount={amount}&amp;price={price}</p>
</blockquote>
<p>Notes:</p>
<ul>
<li><code>selling</code> or <code>buying</code> field may be omitted when it is lumens.</li>
<li><code>price</code> can also be a fraction in the form <code>{1:2}</code> or <code>{sellAmount}:{buyAmount}</code>.</li>
</ul>
<p>Optional fields:</p>
<ul>
<li>&amp;offerId={integer} Allow to edit an existing offer. Will delete it if
<code>amount</code> is set to 0.</li>
<li>&amp;source={address}</li>
</ul>
<p>Syntactic sugar for deleting offer:</p>
<blockquote>
<p>...?manageBuyOffer&amp;offerId={integer}&amp;amount=0</p>
</blockquote>
<h4>manageSellOffer</h4>
<p>Offer to sell <code>amount</code> <code>selling</code> for <code>price</code> <code>buying</code> / unit.</p>
<blockquote>
<p>...?manageSellOffer&amp;selling={assetCode}:{assetIssuer}&amp;buying={assetCode}:{assetIssuer}&amp;amount={amount}&amp;price={price}</p>
</blockquote>
<p>Notes:</p>
<ul>
<li>Before protocol 11 update, this operation was named <code>manageOffer</code>. The old
name is still supported for backward compatibility.</li>
<li><code>selling</code> or <code>buying</code> field may be omitted when it is lumens.</li>
<li><code>price</code> can also be a fraction in the form <code>{1:2}</code> or <code>{sellAmount}:{buyAmount}</code>.</li>
</ul>
<p>Optional fields:</p>
<ul>
<li>&amp;offerId={integer} Allow to edit an existing offer. Will delete it if
<code>amount</code> is set to 0.</li>
<li>&amp;source={address}</li>
</ul>
<p>Syntactic sugar for deleting offer:</p>
<blockquote>
<p>...?manageSellOffer&amp;offerId={integer}&amp;amount=0</p>
</blockquote>
<h4>pathPayment</h4>
<p>Send <code>destAmount</code> <code>destAsset</code> to <code>destination</code> for <code>sendMax</code> <code>sendAsset</code> using
the available offers for the conversion.</p>
<blockquote>
<p>...?pathPayment&amp;destination={address}&amp;destAmount={amount}&amp;destAsset={assetCode}:{assetIssuer}
&amp;sendMax={amount}&amp;sendAsset={assetCode}:{assetIssuer}</p>
</blockquote>
<p>Notes:</p>
<ul>
<li><code>destAsset</code> or <code>sendAsset</code> field may be omitted when it is lumens.</li>
</ul>
<p>Optional fields:</p>
<ul>
<li>&amp;path={asset1},{asset2},...,{assetN} Where each asset is
<code>{assetCode}:{assetIssuer}</code> or <code>XLM</code>. Define a conversion path to follow. If
neither <code>destAsset</code> or <code>sendAsset</code> are lumens, you'll likely need <code>&amp;path=XLM</code>
to set lumens as an intermediate conversion step.</li>
<li>&amp;source={address}</li>
</ul>
<h4>payment</h4>
<p>Send <code>amount</code> <code>asset</code> to <code>destination</code>.</p>
<blockquote>
<p>...?payment&amp;amount={amount}&amp;destination={address}</p>
</blockquote>
<p>Optional fields:</p>
<ul>
<li>&amp;asset={assetCode}:{assetIssuer} Define <code>asset</code> when it is not lumens.</li>
<li>&amp;source={address}</li>
</ul>
<h4>setOptions</h4>
<p>Allow various actions depending on the optional fields you use. Without any
field this is a void operation.</p>
<blockquote>
<p>...?setOptions</p>
</blockquote>
<p>Optional fields:</p>
<ul>
<li>&amp;inflationDest={address} Set <code>{address}</code> as the inflation destination for
<code>source</code>.</li>
<li>&amp;clearFlags={integer} Bitmap integer for which account flags to clear</li>
<li>&amp;setFlags={integer} Bitmap integer for which account flags to set.</li>
<li>&amp;masterWeight={weight} The master key weight.</li>
<li>&amp;lowThreshold={weight} The sum weight for the low threshold.</li>
<li>&amp;medThreshold={weight} The sum weight for the medium threshold.</li>
<li>&amp;highThreshold={weight} The sum weight for the high threshold.</li>
<li>&amp;signer={weight}:{type}:{value} If <code>weight</code> is set to 0, remove a signer from
<code>source</code> account, else edit or add one. <code>type</code> can be either:
<ul>
<li><code>key</code>: refer to another account</li>
<li><code>tx</code>: refer to a transaction hash</li>
<li><code>hash</code>: refer to a preimage or hash(x) signer</li>
</ul>
</li>
<li>&amp;homeDomain={string} set homedomain, or unset it if <code>string</code> is empty</li>
<li>&amp;source={address}</li>
</ul>
</article>

</section>

</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.3</a> using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>