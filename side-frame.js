!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SideFrame=t():e.SideFrame=t()}(window,(function(){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=2)}([function(e,t,o){"use strict";const n=t;n.delay=function(e){let t,o=!0;return function(){return o&&(o=!1,t=new Promise(t=>t(e()))),t}},n.timeout=function(e){return new Promise(t=>setTimeout(t,e))},n.capitalize=function(e){return e.substr(0,1).toUpperCase()+e.slice(1)},n.shorter=function(e){return e.length>50?e.substr(0,5)+"..."+e.substr(-5):e},n.setHiddenProperty=function(e,t,o){Object.defineProperty(e,t,{value:o,enumerable:!1,configurable:!0})},n.deprecated=function(e,t,o){console.error("Warning: ".concat(t," is deprecated and will be removed after ").concat(e,". Please use ").concat(o," instead."))},n.useExtra=function(e){return e[i]||n.setHiddenProperty(e,i,{}),e[i]};const i="@cosmic-plus";n.isUtf8=function(e){return!e.match(/[\0-\x1F\x7F-\x9F\xAD\uD7FC-\uF8FF]/)},n.isBase64=function(e){return!!e.match(/^[0-9a-zA-Z+/]*=*$/)},n.day=function(e){return(e?new Date(e):new Date).toISOString().replace(/T.*/,"")},n.copy=()=>console.error("misc.copy() have been moved to html.copyString()")},function(e,t,o){"use strict";const n=t,i=o(3),r=o(0),s=i.window?i.window.document:void 0;i.isNode&&console.error("@cosmic-plus/domutils is a browser-only module"),n.addStyles=function(e){const t=n.create("style",{type:"text/css"},e);n.append(s.head,t)},n.append=function(e,...t){t.forEach(t=>e.appendChild(n.convert(t)))},n.addClass=function(e,t){-1===e.className.split(" ").indexOf(t)&&(e.className+=" ".concat(t))},n.appendClass=function(e,t){return r.deprecated("2019-07-16","html.appendClass()","html.addClass()"),n.addClass(e,t)},n.clear=function(...e){e.forEach(e=>e.innerHTML="")},n.convert=function(e){return e instanceof Element||e instanceof HTMLDocument||e instanceof Text?e:null==e?s.createTextNode(""):e.domNode||s.createTextNode(e)},n.copyContent=function(e){if(e.selectionStart===e.selectionEnd){if(e.select)e.select();else{if(!window.getSelection)return;{const t=s.createRange();t.selectNode(e),window.getSelection().removeAllRanges(),window.getSelection().addRange(t)}}return s.execCommand("copy")}},n.copyString=function(e){const t=n.create("textarea",{},e);n.append(s.body,t),n.copyContent(t),n.destroy(t)},n.create=function(e,t,...o){const i=s.createElement(e);if("string"==typeof t)switch(t.substr(0,1)){case"#":i.id=t.substr(1);break;case".":i.className=t.substr(1);break;default:throw new Error("Unhandled attribute")}else Object.assign(i,t);return o.length>0&&n.append(i,...o),i},n.destroy=function(e){try{e.parentNode&&e.parentNode.removeChild(e),e.innerHTML=""}catch(e){console.error(e)}},n.grab=function(e,t=s){return t.querySelector(e)},n.hide=function(...e){e.forEach(e=>e.hidden=!0)},n.replace=function(e,t){const o=n.convert(t);return e.parentNode.replaceChild(o,e),o},n.rewrite=function(e,...t){n.clear(e),n.append(e,...t)},n.show=function(...e){e.forEach(e=>e.hidden=!1)}},function(e,t,o){"use strict";const n=o(1),i=o(6),{timeout:r}=o(0),s=o(7),c=o(8);class d extends i{constructor(e){super(),d.current&&d.current.close(),d.current=this,this.shadow=new s({scrollbar:"hide",opacity:.3,delay:400}),this.closeButton=new d.CloseButton,this.domNode=n.create("iframe",{title:"Signing Frame",src:e,sandbox:"allow-same-origin allow-scripts allow-forms allow-popups",hidden:!0}),Object.assign(this.domNode.style,d.style),this.domNode.style.transform="translateX(100%)",n.append(document.body,this.closeButton,this.domNode),this.closeButton.domNode.style.zIndex=+this.getRealZIndex()+1,this.show()}show(){if(this.domNode.hidden)return n.show(this.domNode),this.setTransition(250,"cubic-bezier(0, 0, 0.2, 1)"),r(5).then(()=>this.domNode.style.transform="none"),this.shadow.enable().then(()=>{this.shadow.onclick=()=>this.close(),n.show(this.closeButton.domNode),this.closeButton.domNode.onclick=()=>this.close(),this.trigger("show")})}hide(){if(!this.domNode.hidden)return n.hide(this.closeButton.domNode),this.setTransition(200,"cubic-bezier(0.4, 0, 1, 1)"),this.domNode.style.transform="translateX(100%)",this.shadow.disable().then(()=>{n.hide(this.domNode),this.trigger("hide")})}setTransition(e,t){const o="transform ".concat(e,"ms ").concat(t);this.domNode.style.transition=o,this.shadow.domNode.style.transition=o,this.shadow.delay=e}close(){d.current=null,this.hide().then(()=>{n.destroy(this.domNode),n.destroy(this.closeButton.domNode),this.shadow.destroy(),this.trigger("close"),this.destroy()})}getRealZIndex(){return document.defaultView.getComputedStyle(this.domNode).getPropertyValue("z-index")}}window.addEventListener("message",e=>{const t=d.current&&d.current.domNode.contentWindow;if(e.source===t)switch(e.data){case"show":d.current.show();break;case"hide":d.current.hide();break;case"close":d.current.close()}}),d.style={boxSizing:"border-box",position:"fixed",zIndex:1e3,right:0,top:0,width:"30em",minWidth:"38%",maxWidth:"100%",height:"100vh",border:0,borderTop:"2em solid hsl(240, 40%, 98%)",boxShadow:"0px 7px 10px 1px rgba(0, 0, 0, 0.14), 0px 2px 16px 1px rgba(0, 0, 0, 0.12)",background:"hsl(240, 40%, 98%)",backgroundImage:"url('".concat(c,"')"),backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"12em 12em",willChange:"transform"},d.CloseButton=class{constructor(){this.domNode=n.create("span",{hidden:!0},"Ã— Close"),Object.assign(this.domNode.style,d.CloseButton.style)}},d.CloseButton.style={position:"fixed",top:"0.1em",right:"0.1em",width:"29.8em",minWidth:"38%",maxWidth:"100%",lineHeight:"1.8em",color:"hsl(0, 0%, 40%)",fontWeight:"bold",cursor:"pointer",textAlign:"center"},e.exports=d},function(module,exports,__webpack_require__){(function(process,global){const env=exports;if(env.isBrowser="undefined"!=typeof window&&void 0!==window.document,env.isNode=void 0!==process&&process.versions&&process.versions.node,env.isEmbedded=env.isBrowser&&window.self!==window.top,env.window=env.isBrowser&&window,env.global=env.isNode&&global,env.nodeRequire=()=>{},env.isNode){const stealth_require=eval("require");env.nodeRequire=e=>stealth_require(e)}}).call(this,__webpack_require__(4),__webpack_require__(5))},function(e,t){var o,n,i=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(e){if(o===setTimeout)return setTimeout(e,0);if((o===r||!o)&&setTimeout)return o=setTimeout,setTimeout(e,0);try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:r}catch(e){o=r}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var d,a=[],l=!1,u=-1;function h(){l&&d&&(l=!1,d.length?a=d.concat(a):u=-1,a.length&&f())}function f(){if(!l){var e=c(h);l=!0;for(var t=a.length;t;){for(d=a,a=[];++u<t;)d&&d[u].run();u=-1,t=a.length}d=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];a.push(new p(e,t)),1!==a.length||l||c(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(e){"object"==typeof window&&(o=window)}e.exports=o},function(e,t,o){const n=o(0).setHiddenProperty,i={},r=".listeners";function s(e,t,o){if(t)for(let n in t)try{t[n].call(e,o)}catch(e){console.error(e)}}i.listen=function(e,t,o){if(this.hasOwnProperty(r)||n(this,r,{}),this[r][e]||(this[r][e]=[]),this[r][e].push(t),o&&o.listen){const n=()=>{o.forget("destroy",i)},i=()=>{this.forget(e,t),this.forget("destroy",n)};this.listen("destroy",n),o.listen("destroy",i)}},i.forget=function(e,t){this.hasOwnProperty(r)&&(e?t?this[r][e]&&(this[r][e]=this[r][e].filter(e=>e!==t)):delete this[r][e]:this[r]={})},i.trigger=function(e,t=this){this.constructor[r]&&s(this,this.constructor[r][e],t),this.hasOwnProperty(r)&&s(this,this[r][e],t)},i.destroy=function(){this.trigger("destroy"),Object.getOwnPropertyNames(this).forEach(e=>delete this[e])};const c=e.exports=class{static extend(e){e.hasOwnProperty("prototype")?(Object.assign(e,this.constructorMethods),this.extend(e.prototype)):Object.assign(e,this.instanceMethods)}};c.constructorMethods={listen:i.listen,forget:i.forget},c.instanceMethods=i,c.extend(c)},function(e,t,o){"use strict";const n=o(1),{timeout:i}=o(0);class r{constructor(e={}){this.domNode=n.create("div",{className:"ClickWall",onclick:()=>this.click(),hidden:!0}),Object.assign(this.domNode.style,r.style),n.append(document.body,this.domNode),this.onclick=e.onclick,this.scrollbar=e.scrollbar,this.opacity=e.opacity,this.delay=e.delay||r.delay}click(){this.isEnabled&&this.onclick&&this.onclick()}async enable(){"hide"===this.scrollbar&&(this.htmlOverflow=document.documentElement.style.overflow,this.bodyOverflow=document.body.style.overflow,document.documentElement.style.overflow="hidden",document.body.style.overflow="hidden"),n.show(this.domNode),this.opacity&&await this.setOpacity(this.opacity),this.isEnabled=!0}async disable(){"hide"===this.scrollbar&&(document.documentElement.style.overflow=this.htmlOverflow,document.body.style.overflow=this.bodyOverflow),this.isEnabled=!1,this.opacity&&await this.setOpacity(0),n.hide(this.domNode)}async destroy(){await this.disable(),n.destroy(this.domNode)}async setOpacity(e=this.opacity){return await i(0),Object.assign(this.domNode.style,{transition:"opacity ".concat(this.delay,"ms"),opacity:e}),i(this.delay)}}r.delay=500,r.style={position:"fixed",zIndex:999,top:0,left:0,width:"100%",height:"100%",background:"#000",opacity:0,willChange:"opacity"},e.exports=r},function(e,t){e.exports='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="512" height="512"%3E%3Cpath fill="%23c1c1c1" d="M179.24078 179.33326l-139.467135 139.472c-42.36486 42.364-42.36486 111.057 0 153.421 42.364861 42.365 111.057145 42.365 153.421735 0l138.729-138.733c-25.99806 25.453-61.62709 35.207-95.00214 29.258l-76.60113 76.601c-24.2097 24.21-63.463495 24.21-87.673478 0-24.209708-24.21-24.209708-63.463 0-87.673l76.605518-76.606 63.49455-63.49c24.25805-23.586 63.04182-23.375 87.04055.624 24.17894 24.179 24.20971 63.362.0967 87.585l62.86162-62.866c-3.75663-21.094-13.78318-41.292-30.08405-57.593-16.29648-16.297-36.49024-26.323-57.58476-30.084-34.92606-6.226-70.73529 4.982-95.83698 30.084z"/%3E%3Cpath fill="%239f9f9f" d="M332.75922 332.66726l139.46713-139.472c42.36487-42.364 42.36487-111.057004 0-153.421004-42.36485-42.3660001-111.05714-42.3660001-153.42174 0L180.07562 178.50726c25.99805-25.453 61.62708-35.207 95.00214-29.258l76.60112-76.601004c24.2097-24.21 63.4635-24.21 87.67348 0 24.20972 24.209 24.20972 63.463004 0 87.673004l-76.60551 76.606-63.49456 63.49c-24.25805 23.586-63.04182 23.375-87.04054-.624-24.17895-24.179-24.20972-63.363-.0967-87.585l-62.86163 62.866c3.75663 21.094 13.78319 41.292 30.08406 57.593 16.29648 16.297 36.49023 26.323 57.58476 30.084 34.92606 6.226 70.73529-4.982 95.83698-30.084z"/%3E%3Cpath fill="%23a6a6a6" d="M356.90299 216.24526l-38.96398 38.964c.21537 15.871-5.62848 31.807-17.5269 44.048l62.33446-62.33c-1.25211-7.03-3.1987-13.959-5.84358-20.682zm-24.97861 117.248c-22.2722 21.797-52.72519 32.826-83.47734 30.682-3.84013-.268-7.68906-.738-11.5248-1.424l-13.98536 13.986c10.03974 2.622 20.58027 4.02 31.44193 4.02 12.3069 0 24.19213-1.793 35.41393-5.132l42.13191-42.132z"/%3E%3Cpath fill="%23888" d="M180.07562 178.50726c22.2722-21.797 52.72519-32.826 83.47733-30.682 3.84013.268 7.68907.738 11.52481 1.424l12.06515-12.065c-10.43531-2.852-21.42416-4.376-32.76438-4.376-11.45008 0-22.53563 1.551-33.06297 4.459zm13.98537 76.61c.20218-15.312 6.04576-30.563 17.52689-42.374l-62.33446 62.331c1.17768 6.608 2.97014 13.132 5.37795 19.473z"/%3E%3C/svg%3E'}])}));
//# sourceMappingURL=side-frame.js.map